import { peerIdFromBytes } from '@libp2p/peer-id';
import { multiaddr } from '@multiformats/multiaddr';
export function toPbPeerInfo(peer, connection) {
    const output = {
        id: peer.id.toBytes(),
        multiaddrs: (peer.multiaddrs ?? []).map((m) => m.bytes),
        connection
    };
    return output;
}
export function fromPbPeerInfo(peer) {
    if (peer.id == null) {
        throw new Error('Invalid peer in message');
    }
    return {
        id: peerIdFromBytes(peer.id),
        multiaddrs: (peer.multiaddrs ?? []).map((a) => multiaddr(a))
    };
}
//# sourceMappingURL=utils.js.map