import { type NatAPI, type MapPortOptions } from '@achingbrain/nat-port-mapper';
import { serviceCapabilities } from '@libp2p/interface';
import type { UPnPNATComponents, UPnPNATInit, UPnPNAT as UPnPNATInterface } from './index.js';
import type { Startable } from '@libp2p/interface';
export type { NatAPI, MapPortOptions };
export declare class UPnPNAT implements Startable, UPnPNATInterface {
    client: NatAPI;
    private readonly components;
    private readonly externalAddress?;
    private readonly localAddress?;
    private readonly description;
    private readonly ttl;
    private readonly keepAlive;
    private readonly gateway?;
    private started;
    private readonly log;
    constructor(components: UPnPNATComponents, init: UPnPNATInit);
    readonly [Symbol.toStringTag] = "@libp2p/upnp-nat";
    readonly [serviceCapabilities]: string[];
    isStarted(): boolean;
    start(): void;
    /**
     * Attempt to use uPnP to configure port mapping using the current gateway.
     *
     * Run after start to ensure the transport manager has all addresses configured.
     */
    afterStart(): void;
    mapIpAddresses(): Promise<void>;
    /**
     * Stops the NAT manager
     */
    stop(): Promise<void>;
}
//# sourceMappingURL=upnp-nat.d.ts.map